# 11장 합성과 유연한 설계

## 상속과 합성

> 상속과 합성은 객체지향 프로그래밍에서 가장 널리 사용되는 코드 재사용 기법

### 상속

- 부모 클래스와 자식 클래스를 연결해서 부모 클래스의 코드를 재사용한다
- 컴파일 타임 의존성을 가진다 (정적인 관계)
- is-a 관계
- 부모 클래스의 내부 구현에 대해 상세히 알아야하기 때문에 자식 클래스와 부모 클래스 사이의 결합도가 높아진다.
- 부모 클래스에 구현된 코드를 재사용한다

### 합성

- 전체를 표현하는 객체가 부분을 표현하는 객체를 포함해서 부분 객체의 코드를 재사용한다
- 런타임 의존성을 가진다 (동적인 관계)
- has-a 관계
- 클래스와 클래스간의 퍼블릭 인터페이스에 의존하여 결합도가 낮다.
- 내부 구현의 변경의 영향이 최소화 된다
- 객체의 퍼블릭 인터페이스를 재사용한다

## 상속을 합성으로 변경

> 10장에서 코드 재사용을 위해 상속을 남용했을 때 직면할 수 있는 세 가지 문제점 살펴봄.

1. 불필요한 인터페이스 상속문제
2. 메서드 오버라이딩의 오작용 문제
3. 부모 클래스와 자식 클래스 동시 수정 문제
 
  
    합성을 쓰면 상속이 초래하는 세 가지 문제점 해결 가능 
    상속을 합성으로 바꾸는 방법은, 자식 클래스에 선언된 상속관계를 제거하고 부모 클래스의 인스턴스를, 자식 클래스의 인스턴스 변수로 선언하기만 하면 된다.

## 믹스인

> 믹스인(mixin)은 객체를 생성할 때 코드 일부를 클래스 안에 섞어 넣어 재사용하는 기법을 가리키는 용어다. 
> 합성이 실행 시점에 객체를 조합하는 재사용 방법이라면 믹스인은 컴파일 시점에 필요한 코드 조각을 조합하는 재사용 방법이다.

- 믹스인은 상속과는 다르다
- 믹스인이 상속이 유사한 것 처럼 보이겠지만 사실은 다르다.
- 상속의 결과로 부모 클래스의 코드를 재사용한다는 사실은 맞지만 상속의 목적은 자식 클래스를 부모 클래스와 동일한 개념적인 범주로 묶어 is-a 관계를 만들기 위한 것이다.
- 반면 믹스인은 말 그래로 코드를 다른 코드 안에 섞어 넣기 위한 방법이다.
- 상속이 클래스와 클래스 사이의 관계를 고정시키는 데 비해 믹스인은 유연하게 관계를 재구성 할 수 있다.
- 믹스인은 코드 재사용에 특화된 방법이면서도 상속과 같은 결합도 문제를 초래하지 않는다.

