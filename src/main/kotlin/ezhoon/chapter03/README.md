# 역할 책임 협력

> 객체지향의 핵심은 역할, 책임, 협력이다.   
> 클래스, 상속, 지연 바인딩 등등 중요하지만 위 내용을 기반으로 해야지 의미가 있는 것이다.

## 협력

> 영화 예매 시스템을 생각해보면 우리는 "영화 예매" 라는 기능을 구현하기 위해 메시지를 주고받으면서 상호작용 하고 있다.

### 메세지 전송이 제일 중요하다.

- 객체 사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단이다.
- 객체는 다른 객체의 상세한 내부 구현에 직접 접근할 수 없기 때문에 오직 메세지 전송을 통해서만 자신의 요청을 전달할 수 있다.
- 객체를 자율적으로 만드는 가장 기본적인 방법은 내부 구현을 캡슐화 하는 것이다.

### 객체가 필요하다면 그 이유는 단 하나여야만 한다.

> 객체가 어떤 협력에 참여하고 있기 때문이다.  

- 객체가 `협력`에 참여할 수 있는 이유는 협력에 필요한 적절한 행동을 보유하고 있기 때문이다.
  - 이 말은 `협력`에 집중을 해야 하는데, `협력`이 바뀌면 객체가 제공해야 하는 행동 역시 바뀌여야 하기 때문이다.
- 예를 들어 Movie는 극장에서 영황를 상영하는 장면을 상상하게 된다.
  - 그러나 play라는 행동을 수행하지는 않고, 요금을 계산하는 행동과 관련된 것만 한다.
  - 이것은 Movie가 영화를 예매하기 위한 협력에 참여하고 있고, 그 안에서 요금을 계산하는 책임을 갖고 있기 때문이다.

## 책임

> 객체에 의해 정의되는 응집도 있는 행위의 집합이다.

- 하는 것 
  - 생성하거나 계산을 수행
  - 다른 객체의 행동을 시작
  - 다른 객체를 제어하고 조절
- 아는 것
  - 사적인 정보에 관해 아는 것
  - 관련된 객체에 대해 아는 것
  - 자신이 유도하거나 계싼할 수 있는 것에 관해 아는 것

이렇게 두 가지 범주로 나눠서 세분화하고 있다.

> 이렇게 개체의 관점에서 아는 것, 하는 것이 밀접하게 연관돼 있다.  
> 객체는 자신이 할 수 없는 작업을 도와줄 객체를 알고 있을 책임이 있다.  
> 어떤 책임을 수행하기 우해서는 그 책임을 수행하는 데 필요한 정보도 함께 알아야 할 책임이 있는 것이다.

## 역할

> 객체가 어떤 특정한 협력 안에서 수행하는 책임의 집합을 역할이라고 부른다.

### 역할의 구현

- 일반적으로 추상클래스, 인터페이스를 사용한다.
  - 개인적으로 인터페이스 선호
- 추상클래스는 책임의 일부를 구현해 놓은 상태
- 인터페이스는 구체 클래스들이 따라야 하는 책임의 집합 서술

### 중요한 것은 책임이다.
- 동일한 책임을 서로 다른 방식으로 수행할 수 있는 객체들이 필요해질 때가 왔을 때 역할의 도입을 고려해도 늦지 않다.
- 다양한 객체들이 협력에 참여한다는 것이 확실하다면 역할로 시작하라.
  - 하지만 모든 것이 정확한 결정을 내리기 어려운 상황이라면 구체적인 객체로 시작하고 단순화 시키고 합쳐보자.

