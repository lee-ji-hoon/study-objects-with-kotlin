## 협력

객체들이 기능을 구현하기 위해 수행하는 상호작용

**메세지 전송** : 객체 사이의 협력을 위해 사용할 수 있는 유일한 수단

- 다른 객체의 내부 구현에 직접 접근할 수 없기 때문

메세지를 수신한 객체는 **메서드**를 실행하여 요청에 응답

- 메세지 처리는 수신한 객체가 알아서 처리 → 객체는 자율적인 존재

**캡슐화**를 통해 객체들이 각자 할 수 있는 일을 맡으면 자율성이 향상됨

객체를 생성하는 이유는 **협력에 참여**하고 있기 때문

협력에 따라 각 객체가 참여하는 행동과 상태가 변함 → **문맥**

## 책임

객체가 협력에 참여하기 위해 수행하는 로직

**하는 것** 과 **아는 것**으로 나눌 수 있음

**하는 것**

- 객체를 생성하거나 계산을 수행하는 등의 스스로 하는 것
- 다른 객체의 행동을 시작시키는 것
- 다른 객체의 활동을 제어하고 조절하는 것

**아는 것**

- 사적인 정보에 관해 아는 것
- 관련된 객체에 관해 아는 것
- 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

**객체가 가져야 할 책임**

- 자신이 맡은 책임을 수행하는 데 필요한 정보를 알고 있을 책임
- 자신이 할 수 없는 작업을 도와줄 객체를 알고 있을 책임

이를 토대로 객체에게 **책임을 할당**하는 것이 중요함

### 책임 할당

**Information Expert 패턴**

- 책임을 수행하는 데 필요한 정보를 제일 잘 알고 있는 전문가에게 할당하는 것
- 시스템의 책임을 완료하는 **더 작은 책임**을 찾고, 이를 **객체들에게 할당**하는 과정을 통해 **문맥을 완성**시킴

### 책임 주도 설계(Responsibility-Driven Design)

책임을 찾고 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 설계하는 방법

**과정**

- 시스템이 사용자에게 제공해야 하는 기능인 시스템 책임 파악
- 시스템 책임을 더 작은 책임으로 분할
- 분할된 책임을 수행할 수 있는 객체를 찾아 할당
- 수행 중 다른 객체의 도움이 필요하면 찾아서 할당
- 여러 객체가 서로 협력

### 메세지가 객체를 선택하게 해야하는 이유

1. 객체가 **최소한의 인터페이스**를 가질 수 있음
2. 충분히 **추상적인 인터페이스**를 가질 수 있음

### 데이터 주도 설계(Data-Driven Design)

객체의 내부 구현에 초점을 맞춘 설계 방법

## 역할

객체들이 협력 안에서 수행하는 책임들이 모여 객체가 수행하는 것

큰 하나의 메세지에 대해 참여하는 객체가 달라 협력을 다르게 만들면 **코드의 중복이 발생**

추상화를 통해 참여하는 객체들을 **포괄하는 존재**를 만들어 해결

### 객체와 역할의 차이

역할은 객체가 참여할 수 있는 **슬롯**과 같은 개념

해당 자리에 참여할 수 있는 후보가 여럿 → 역할

해당 자리에 참여할 수 있는 후보가 하나 → 객체

협력은 **역할들의 상호작용**으로 구성

협력을 구성하기 위해 **역할에 적합한 객체가 선택**

객체는 **클래스를 이용**해 구현되고 생성됨

### 추상화의 장점

1. 세부 사항에 구애 없이 상위 수준의 정책을 단순화할 수 있음
- 세부 사항은 생략하고 핵심적인 개념을 강조할 수 있음

  → 추상화에 더욱 집중할 수 있음

1. 설계가 더욱 유연해짐
- 협력 안에서 동일한 책임을 수행하는 객체들은 서로 대체 가능

  → 다양한 환경에서 다양한 객체들을 수용할 수 있으므로 유연함