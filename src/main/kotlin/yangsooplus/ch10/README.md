# 10 상속과 코드 재사용

객체지향의 코드 재사용 => 재사용하기 위해 새로운 코드 추가

## 상속과 중복 코드

중복코드?
- 코드에 변경이 일어날 시 중복된 모든 부분을 일관되게 수정해야 함
- 중복 코드를 개별적으로 테스트 해야 함

중복을 없애기 위해 상속하는 것만이 답일까?
- 상속을 염두에 두고 설계되지 않은 클래스인 경우 개발자의 가정이 필요
- 코드 이해 어려워짐
- 결합도가 늘어나서 그럼 

## 취약한 기반 클래스 문제

코드 재사용 목적으로 상속 사용 시, 자식 클래스가 부모 클래스의 변경에 취약해지는 현상
- 캡슐화 약화
- 결합도 상승

### 불필요한 인터페이스 상속
- Vector를 상속 받는 Stack 문제
  - Vector의 인터페이스는 어느 위치에서도 요소를 추가, 제거
  - Stack의 규칙을 무너뜨리는 퍼블릭 인터페이스까지 함께 상속 받음
- Hashtable을 상속 받는 Properties
  - String의 키와 값만 갖는 Properties에 Hashtable의 인터페이스로 다른 타입의 값을 저장
- 부모 클래스의 메서드가 자식 클래스의 내부 규칙을 깨트림

### 메서드 오버라이딩의 오작용
- 부모 클래스의 메서드 오버라이딩할 경우, super.메서드에 자식 클래스가 결합할 수 있음
- 클래스가 상속되려면?
  - 상속을 위해 클래스를 설계하고 문서화 해야 함

### 부모 클래스와 자식 클래스의 동시 수정 문제
- 결합도로 인해 변경이 일어나면 동시에 변경하거나 아예 변경하지 않는 방법밖에 없음

## 그럼 어떻게?

### 추상화에 의존하자
- 부모 클래스와 자식 클래스 모두 추상화에 의존하게 하자
- 두 메서드가 유사하게 보인다?
  - 차이점을 메서드로 추출
  - 그럼 차이점이 추출된 두 메서드가 동일한 형태로
- 부모 클래스 코드 하위로 내리기 < 자식 클래스 코드 상위로 올리기
  - 구체적인 메서드를 자식으로 내리기보다 추상적인 메서드를 부모로 올리기
  - 재사용성과 응집도 good

## 차이에 의한 프로그래밍
- 기존 코드와 다른 부분만을 추가함으로서 기능 확장
- 중복 코드를 제거하고 코드 재사용 하자.
- 재사용 가능한 코드?
  - 즉, 심각한 버그가 존재하지 않는 코드
  - 코드 품질 유지하면서 타이핑 노가다 노필요
- 정말로 필요한 경우에만 상속을 사용하라.
- 