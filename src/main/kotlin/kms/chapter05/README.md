### 책임 주도 설계

- 데이터보다 행동을 먼저 결정하라
- 협력이라는 문맥 안에서 책임을 결정하라
	- 객체 입장에서 책임이 어색해도 **협력에 적합**하다면 좋은 책임이다
	- 협력의 시작은 전송자 이기 때문에 전송자에게 적합한 책임
	- 메세지를 정하고 메세지가 객체를 선택해야한다

### GRASP (General Responsibility Assignment Software Pattern)

> 일반적인 책임 할당을 위한 소프트웨어 패턴

- 시스템을 구성하는 도메인 개념과 개념 사이의 관게를 대략적으로 정의
	- **출발점**이 필요한 것이기 때문에 정확할 필요는 없다
- 애플리케이션이 제공해야 하는 기능을 책임으로 생각
- 객체의 책임과 책임을 수행하는 데 필요한 상태는 동일한 객체 안에 존재해야 한다

#### IMPORMATION EXPERT 패턴

- 책임을 수행하는 데 필요한 정보를 가지고 있는 객체에게 할당하라

#### LOW COUPLING

- 결합도를 낮게 유지되도록 책임을 할당하기
	- 변화의 영향을 줄이며 재사용성을 증가시킬 수 있다

#### HIGH COHESION

- 높은 응집도를 유지할 수 있게 책임을 할당하기

#### CREATOR 패턴

- 객체 A를 생성해야할 때 아래 조건을 많이 만족하는 B에게 **생성 책임**을 할당
	- B가 A 객체를 포함하거나 참조
	- B가 A 객체를 기록
	- B가 A 객체를 긴밀하게 사용한다
	- B가 A 객체를 초기화 하는데 필요한 데이터를 가지고 있다
		- B 는 A 에 대한 **정보 전문가**다 
- 객체 A와 B는 서로 결합된다
	- 이미 결합되어 있는 객체에게 생성 책임을 할당하면 결합도에 영향을 주지 않는다

#### POLYMORPHISM 패턴

- 타입을 명시적으로 정의하고 각 타입에 다형적으로 행동하는 책임을 할당하기
	- if - else , when 으로 구성하면 새로운 타입 추가할 때 마다 계속 수정이 필요하다

#### PROTECTED VARIATIONS

- 변화가 예상되는 지점을 인터페이스로 책임을 할당하기

### 클래스 응집도 판단하기

#### 변경의 이유는 하나여야 한다

- 새로운 할일 조건 추가
- 순번 조건을 판단하는 로직 변경
- 기간 조건을 판단하는 로직 변경

$\to$ **변경의 이유에 따라** 클래스를 분리해야 한다

#### 인스턴스 변수가 초기화 되는 시점

- 변수가 전부다 초기화 되지 않는 다는 것은 **응집도가 낮다**는 뜻
- 함께 초기화 되는 속성을 기준으로 코드를 분리
	- kotlin data class 를 사용하면서 응집도가 높은 코드를 짜게 되는 것 같다

#### 메서드들이 변수를 사용하는 방식

- 속성에 따라 사용하는 메서드가 다르다면 **응집도가 낮다**는 뜻
	- 여기에서는 isSatisfiedBy 가 Sequence 인지 Period 인지에 따라 메서드가 나뉘었다

>[!note] 리팩터링 (Refactoring)
>겉에서 보이는 동작은 변경하지 않은 채 내부 구조를 변경하는 것

